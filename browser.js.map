{
  "version": 3,
  "sources": ["../node_modules/@wxn0brp/flanker-ui/dist/html.js", "../node_modules/@wxn0brp/flanker-ui/dist/store.js", "../node_modules/@wxn0brp/flanker-ui/dist/utils.js", "../node_modules/@wxn0brp/flanker-ui/dist/component/index.js", "../node_modules/@wxn0brp/flanker-ui/dist/storeUtils.js", "../node_modules/@wxn0brp/flanker-ui/dist/index.js", "../src/ui/vars.ts", "../node_modules/@wxn0brp/zhiva-base-lib/src/front/api.ts", "../src/ui/api-mock.ts", "../src/api.ts", "../src/ui/update/check.ts", "../node_modules/@wxn0brp/flanker-dialog/dist/index.js", "../src/ui/confirm.ts", "../src/ui/update/update.ts", "../src/ui/manifest.ts", "../src/ui/icon.ts", "../src/ui/view.ts", "../src/browser.ts"],
  "sourcesContent": [
    "(()=>{var M=Object.defineProperty;var a=(t,e)=>M(t,\"name\",{value:e,configurable:!0});var s={html(t){return t!==void 0?(this.innerHTML=t,this):this.innerHTML},v(t){return t!==void 0?(this.value=t,this):this.value},on(t,e){return this.addEventListener(t,e),this},css(t,e=null){return typeof t==\"string\"?e!==null?this.style[t]=e:this.style.cssText=t:Object.assign(this.style,t),this},attrib(t,e=null){return e!==null?(this.setAttribute(t,e),this):this.getAttribute(t)||\"\"},clA(...t){return this.classList.add(...t),this},clR(...t){return this.classList.remove(...t),this},clT(t,e){return this.classList.toggle(t,e),this},animateFade(t,e={}){let{time:n=200,cb:i}=e,r=this,l=t===0?1:0,m=Math.min(1,Math.max(0,t)),u=performance.now();r.style.opacity=m.toString();function h(d){let T=d-u,o=Math.min(T/n,1),L=m+(l-m)*o;r.style.opacity=L.toString(),o<1?requestAnimationFrame(h):(r.style.opacity=l.toString(),i?.())}return a(h,\"step\"),requestAnimationFrame(h),this},fadeIn(...t){let e=c({display:\"string\",cb:\"function\",time:\"number\"},t),{display:n=\"block\"}=e;return this.css(\"display\",n),this.animateFade(0,e),this.fade=!0,this},fadeOut(...t){let e=c({cb:\"function\",time:\"number\"},t),n=e.time??300;return e.time=n,this.animateFade(1,{...e,cb:a(()=>{this.css(\"display\",\"none\"),e.cb?.()},\"cb\")}),this.fade=!1,this},async fadeInP(...t){return new Promise(e=>{this.fadeIn(...t,()=>e(this))})},async fadeOutP(...t){return new Promise(e=>{this.fadeOut(...t,()=>e(this))})},fade:!0,fadeToggle(){return this.fade?this.fadeOut():this.fadeIn(),this},add(t){return this.appendChild(t),this},addUp(t){return this.insertBefore(t,this.firstChild),this},qs(t,e=0){return e&&(t=`[data-id=\"${t}\"]`),this.querySelector(t)}};s.qi=s.qs;function c(t,e){let n={};if(e.length===0)return n;if(e.every(i=>typeof i==\"object\"))return Object.assign({},...e);for(let i of e)for(let[r,l]of Object.entries(t))if(typeof i===l){n[r]=i;break}return n}a(c,\"convert\");Object.assign(HTMLElement.prototype,s);Object.assign(document,s);Object.assign(document.body,s);Object.assign(document.documentElement,s);window.qs=window.qi=s.qs.bind(document);})();\n//# sourceMappingURL=html.js.map\n",
    "export const storeKeys = [\"listeners\", \"value\", \"notify\", \"get\", \"set\", \"subscribe\", \"parent\", \"isStore\"];\nexport function createStore(schema, parent) {\n    const store = {};\n    for (const key in schema) {\n        if (schema.hasOwnProperty(key)) {\n            const isStore = typeof schema[key] === \"object\" &&\n                !Array.isArray(schema[key]) &&\n                schema[key] !== null;\n            if (isStore) {\n                store[key] = createStore(schema[key], store);\n            }\n            else {\n                store[key] = new ReactiveCell(schema[key], store);\n            }\n        }\n    }\n    store.isStore = true;\n    store.listeners = [];\n    store.value = undefined;\n    store.parent = parent;\n    store.notify = (propagate = 0) => {\n        store.listeners.forEach(listener => listener(store));\n        if (propagate > 0 && parent && typeof parent.notify === \"function\") {\n            parent.notify(propagate - 1);\n        }\n        return store;\n    };\n    store.get = () => {\n        const obj = {};\n        for (const key in store) {\n            if (storeKeys.includes(key))\n                continue;\n            if (store.hasOwnProperty(key)) {\n                obj[key] = store[key].get();\n            }\n        }\n        return obj;\n    };\n    store.getPointer = () => {\n        const obj = {};\n        for (const key in store) {\n            if (storeKeys.includes(key))\n                continue;\n            if (store.hasOwnProperty(key)) {\n                obj[key] = store[key];\n            }\n        }\n        return obj;\n    };\n    store.set = (data, propagate = 0) => {\n        for (const key in data) {\n            if (storeKeys.includes(key)) {\n                throw new Error(`Reserved key: ${key}`);\n            }\n            if (!store.hasOwnProperty(key)) {\n                throw new Error(`Unknown key: ${key}`);\n            }\n            const target = store[key];\n            if (target.isStore) {\n                throw new Error(`Cannot set nested store: ${key}`);\n            }\n            const value = data[key];\n            if (typeof value === \"object\" && value !== null && !Array.isArray(value)) {\n                throw new Error(`Invalid value for key: ${key}`);\n            }\n        }\n        for (const key in data) {\n            store[key].set(data[key], propagate);\n        }\n        return store;\n    };\n    store.subscribe = (listener) => {\n        store.listeners.push(listener);\n        return store;\n    };\n    return store;\n}\nexport function createStoreValue(parent, data) {\n    return new ReactiveCell(data, parent);\n}\nexport class ReactiveCell {\n    value;\n    parent;\n    listeners = [];\n    isStore = false;\n    constructor(value, parent) {\n        this.value = value;\n        this.parent = parent;\n    }\n    get() {\n        return this.value;\n    }\n    set(newVal, propagation = 0) {\n        this.value = newVal;\n        this.notify(propagation);\n        return this;\n    }\n    notify(propagation = 0) {\n        this.listeners.forEach(listener => listener(this.value));\n        if (propagation > 0 && this.parent && typeof this.parent.notify === \"function\") {\n            this.parent.notify(propagation - 1);\n        }\n        return this;\n    }\n    subscribe(listener) {\n        this.listeners.push(listener);\n        return this;\n    }\n}\n//# sourceMappingURL=store.js.map",
    "export function rand(min, max) {\n    return Math.round(Math.random() * (max - min) + min);\n}\nexport function round(number, decimalPlaces) {\n    const multiplier = Math.pow(10, decimalPlaces);\n    return Math.round(number * multiplier) / multiplier;\n}\nexport function clamp(min, value, max) {\n    return Math.min(Math.max(value, min), max);\n}\nexport function get(url) {\n    if (!url)\n        return \"\";\n    const xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", url, false);\n    xhr.send();\n    if (xhr.status === 200) {\n        return xhr.responseText;\n    }\n    else if (xhr.status === 404) {\n        return \"\";\n    }\n    else {\n        return \"\";\n    }\n}\nexport function getJSON(url) {\n    return JSON.parse(get(url));\n}\nexport function debounce(func, wait = 100) {\n    let timeout;\n    return function executedFunction(...args) {\n        const later = () => {\n            clearTimeout(timeout);\n            func(...args);\n        };\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n    };\n}\nexport function throttle(func, wait = 100) {\n    let inThrottle;\n    return function executedFunction(...args) {\n        if (!inThrottle) {\n            func(...args);\n            inThrottle = true;\n            setTimeout(() => (inThrottle = false), wait);\n        }\n    };\n}\nexport function delay(ms) {\n    return new Promise(res => setTimeout(res, ms));\n}\n//# sourceMappingURL=utils.js.map",
    "let fetchVQL = window?.VQLClient?.fetchVQL;\nexport function setFetchVQL(fn) { fetchVQL = fn; }\nexport function mountView(opts, extra) {\n    const el = typeof opts.selector === \"string\" ? document.querySelector(opts.selector) : opts.selector;\n    if (!el)\n        throw new Error(`mountView: selector '${opts.selector}' not found`);\n    async function load(args = {}) {\n        let data;\n        const assignArgs = Object.assign({}, opts.queryArgs, args);\n        if (opts.queryFunction)\n            data = await opts.queryFunction(assignArgs);\n        else if (typeof opts.query === \"string\")\n            data = await fetchVQL({ query: opts.query, var: args });\n        else if (typeof opts.query === \"function\")\n            data = await fetchVQL(await opts.query(assignArgs));\n        else if (typeof opts.query === \"object\" && !Array.isArray(opts.query))\n            data = await fetchVQL(opts.query);\n        else\n            data = assignArgs;\n        if (opts.onData)\n            opts.onData(data);\n        if (opts.transform)\n            data = opts.transform(data);\n        if (opts.onDataTransform)\n            opts.onDataTransform(data);\n        if (opts.sort) {\n            if (typeof opts.sort === \"function\") {\n                data = data.sort(opts.sort);\n            }\n            else if (typeof opts.sort === \"string\") {\n                const key = opts.sort;\n                data = data.sort((a, b) => {\n                    const av = a?.[key], bv = b?.[key];\n                    return (typeof av === \"string\" || typeof bv === \"string\")\n                        ? String(av).localeCompare(String(bv))\n                        : (av ?? 0) - (bv ?? 0);\n                });\n            }\n        }\n        if (opts.onDataSort)\n            opts.onDataSort(data);\n        render(data, opts.templateDataMode ?? \"replace\");\n    }\n    // Events (delegated, attached once)\n    if (opts.events) {\n        for (const [type, targets] of Object.entries(opts.events)) {\n            el.addEventListener(type, (e) => {\n                const target = e.target;\n                for (const [selector, handler] of Object.entries(targets)) {\n                    const match = target.closest(selector);\n                    if (match && el.contains(match)) {\n                        handler(match, e);\n                        break;\n                    }\n                }\n            });\n        }\n    }\n    function render(data, mode = \"replace\") {\n        let res = \"\";\n        let empty = false;\n        // Check if data is empty\n        if ((Array.isArray(data) && data.length === 0) ||\n            (typeof data === \"object\" && data !== null && Object.keys(data).length === 0) ||\n            data === null ||\n            data === undefined) {\n            res = opts.emptyData ?? \"\";\n            empty = true;\n        }\n        else {\n            res = Array.isArray(data) ? data.map(opts.template).join(\"\") : opts.template(data);\n        }\n        // Handle mode\n        if (mode === \"append\" || mode === \"prepend\") {\n            if (empty) {\n                // If data is empty:\n                // - if the element already has some content (and hasn't been marked as empty before), do nothing\n                if (el.innerHTML.trim() !== \"\" && el.getAttribute(\"data-fu-empty\") !== \"true\") {\n                    return;\n                }\n                // Otherwise, set the fallback\n                el.innerHTML = res;\n                el.setAttribute(\"data-fu-empty\", \"true\");\n            }\n            else {\n                // Data is not empty:\n                // If there was a fallback, remove it and start from a clean state\n                if (el.getAttribute(\"data-fu-empty\") === \"true\") {\n                    el.innerHTML = res;\n                }\n                else {\n                    // Otherwise, append/prepend\n                    el.innerHTML = mode === \"append\" ? el.innerHTML + res : res + el.innerHTML;\n                }\n                el.removeAttribute(\"data-fu-empty\");\n            }\n        }\n        else {\n            // Replace mode ‚Äì always replaces\n            el.innerHTML = res;\n            if (empty) {\n                el.setAttribute(\"data-fu-empty\", \"true\");\n            }\n            else {\n                el.removeAttribute(\"data-fu-empty\");\n            }\n        }\n    }\n    const base = {\n        element: el,\n        mount: () => { },\n        load,\n        render\n    };\n    return Object.assign(base, extra ?? {});\n}\nexport * as uiHelpers from \"./helpers.js\";\nexport * as infinityScroll from \"./infinityScroll.js\";\n//# sourceMappingURL=index.js.map",
    "export function toggleBoolean(cell) {\n    cell.set(!cell.get());\n    return cell;\n}\nexport function updateCell(cell, fn) {\n    cell.set(fn(cell.get()));\n    return cell;\n}\nexport function pushToCell(cell, item) {\n    cell.set([...cell.get(), item]);\n    return cell;\n}\nexport function toggleInSetCell(cell, item) {\n    const next = new Set(cell.get());\n    next.has(item) ? next.delete(item) : next.add(item);\n    cell.set(next);\n    return cell;\n}\nexport function incrementCell(cell, by = 1) {\n    cell.set(cell.get() + by);\n    return cell;\n}\nexport function decrementCell(cell, by = 1) {\n    cell.set(cell.get() - by);\n    return cell;\n}\n//# sourceMappingURL=storeUtils.js.map",
    "export * from \"./store.js\";\nexport * from \"./types.js\";\nimport * as utils from \"./utils.js\";\nexport * from \"./component/index.js\";\nexport * as storeUtils from \"./storeUtils.js\";\nexport * as reactStore from \"./reactive/index.js\";\nglobalThis.lo = console.log;\nexport default utils;\n//# sourceMappingURL=index.js.map",
    "import { ReactiveCell } from \"@wxn0brp/flanker-ui\";\n\nexport const gitRaw = \"https://raw.githubusercontent.com/\";\nexport const zhivaInstalled = new ReactiveCell<string[]>([]);\nexport const appsToUpdateCount = new ReactiveCell(0);\nexport const updateStatus = qs(\"#update-status\");\nexport const DISABLED_TITLE = \"Available only in desktop app\";",
    "import { ZhivaApiOptions, ZhivaApiQuery } from \"../types/api\";\n\nconst urlParams = new URLSearchParams(window.location.search);\nconst token = urlParams.get(\"secret\");\n\nexport function fetchApi(url: string, opts: ZhivaApiOptions = {}, query: ZhivaApiQuery = {}) {\n    const urlObj = new URL(\"/api/\" + url, window.location.origin);\n\n    Object.entries(query).forEach(([key, value]) => {\n        urlObj.searchParams.set(key, value.toString());\n    });\n\n    return fetch(urlObj.toString(), {\n        ...opts,\n        headers: {\n            ...opts.headers,\n            \"x-zhiva-token\": token\n        }\n    });\n};",
    "import { ZhivaApiOptions, ZhivaApiQuery } from \"@wxn0brp/zhiva-base-lib/types/api\";\n\nexport async function mockFetchApi(endpoint: string, options: ZhivaApiOptions = {}, query: ZhivaApiQuery = {}): Promise<Response> {\n    console.log(`[BROWSER MODE] Mocked API call for: ${endpoint}`, { options, query });\n    const appName = query?.app;\n\n    switch (endpoint) {\n        case \"installed\":\n            return new Response(JSON.stringify({ apps: [] }), {\n                status: 200,\n                headers: { \"Content-Type\": \"application/json\" }\n            });\n\n        case \"get-updates\":\n            return new Response(JSON.stringify({ err: false, updates: {} }), {\n                status: 200,\n                headers: { \"Content-Type\": \"application/json\" }\n            });\n\n        case \"install\":\n            window.location.href = `zhiva://install/${appName}`;\n            return new Response(JSON.stringify({ err: false }), {\n                status: 200,\n                headers: { \"Content-Type\": \"application/json\" }\n            });\n\n        case \"start\":\n            window.location.href = `zhiva://start/${appName}`;\n            return new Response(JSON.stringify({ err: false }), {\n                status: 200,\n                headers: { \"Content-Type\": \"application/json\" }\n            });\n\n        case \"uninstall\":\n        case \"update\":\n            console.warn(`Action \"${endpoint}\" is not available in browser-only mode. Doing nothing.`);\n            return new Response(JSON.stringify({ err: false }), {\n                status: 200,\n                headers: { \"Content-Type\": \"application/json\" }\n            });\n\n        case \"apps\":\n            return new Response(JSON.stringify({ err: false, apps: await fetchApps() }), {\n                status: 200,\n                headers: { \"Content-Type\": \"application/json\" }\n            });\n\n        default:\n            console.error(`Endpoint not mocked for browser mode: ${endpoint}`);\n            return new Response(JSON.stringify({ err: true, msg: \"Endpoint not mocked for browser mode\" }), {\n                status: 404,\n                headers: { \"Content-Type\": \"application/json\" }\n            });\n    }\n}\n\ninterface Repo {\n    name: string;\n    desc: string;\n    stars: number;\n    verified?: boolean;\n}\n\nasync function getFromCache(key: string, ttl: number, fetcher: (...args: any[]) => Promise<any>, args: any[] = []) {\n    const cache = localStorage.getItem(key);\n    if (cache) return JSON.parse(cache);\n    const data = await fetcher(...args);\n    localStorage.setItem(key, JSON.stringify(data));\n    setTimeout(() => localStorage.removeItem(key), ttl);\n    return data;\n}\n\nasync function fetchApps() {\n    let apps: Repo[] = await getFromCache(\"search\", 5 * 60 * 1000, fetchAllRepos);\n    const banned: string[] = await getFromCache(\"banned\", 5 * 60 * 1000, fetchBanned);\n\n    apps = apps.filter(item => !banned.includes(item.name));\n\n    const verified = await getFromCache(\n        \"verified\",\n        5 * 60 * 1000,\n        fetchVerified,\n        [\n            apps.map(item => item.name)\n        ]\n    );\n\n    apps.forEach(item => item.verified = verified.includes(item.name));\n    console.log(\"Fetched apps:\", apps);\n    return apps;\n}\n\nasync function fetchAllRepos(): Promise<Repo[]> {\n    const data = await fetch(\"https://api.github.com/search/repositories?q=topic:Zhiva-app\").then((res) => res.json());\n    return data.items.map((item: any) => ({\n        name: item.full_name,\n        desc: item.description,\n        stars: item.stargazers_count\n    }));\n}\n\nasync function fetchData(file: string) {\n    const data = await fetch(`https://raw.githubusercontent.com/wxn0brP/Zhiva-registry/HEAD/${file}.txt`).then((res) => res.text());\n    return data.split(\"\\n\").map(line => line.split(\"#\")[0].trim()).filter(Boolean);\n}\n\nasync function fetchBanned() {\n    return await fetchData(\"banned\");\n}\n\nasync function fetchVerified(installedApps: string[]) {\n    const apps = await fetchData(\"verified\");\n    apps.push(...installedApps.filter(app => app.startsWith(\"wxn0brP/\")));\n    return apps;\n}",
    "import { fetchApi as realFetchApi } from \"@wxn0brp/zhiva-base-lib/front/api\";\nimport { mockFetchApi } from \"./ui/api-mock\";\n\nexport const IS_DESKTOP_APP = typeof (window as any).zhiva_isApp !== \"undefined\";\nconsole.log(\"Running in\", IS_DESKTOP_APP ? \"desktop\" : \"browser mode\");\nexport const fetchApi = IS_DESKTOP_APP ? realFetchApi : mockFetchApi;",
    "import { appsToUpdateCount, updateStatus } from \"../vars\";\nimport { fetchApi, IS_DESKTOP_APP } from \"../../api\";\n\nexport async function checkForUpdates() {\n    checkUpdatesBtn.disabled = true;\n    updateStatus.innerHTML = \"Checking...\";\n\n    document.querySelectorAll(\".repo-card\").forEach(card => card.classList.remove(\"has-update\"));\n\n    const res = await fetchApi(\"get-updates\");\n    const data = await res.json();\n    const updates = data.updates;\n    checkUpdatesBtn.disabled = !IS_DESKTOP_APP;\n\n    if (data.err) {\n        console.error(`Error checking for updates: ${data.msg}`);\n        updateStatus.innerHTML = `<span style=\"color: red;\">Error checking for updates</span>`;\n        return;\n    }\n\n    const appsToUpdate = Object.keys(updates).filter(app => updates[app]);\n    appsToUpdateCount.set(appsToUpdate.length);\n    appsToUpdate.forEach(appName => {\n        const card = qs(`.repo-card[data-name=\"${appName}\"]`);\n        if (card) {\n            card.classList.add(\"has-update\");\n            const updateBtn = card.qs<HTMLButtonElement>(\".install\");\n            if (updateBtn) updateBtn.textContent = \"Update available\";\n        }\n    });\n}\n\nconst checkUpdatesBtn = qs<HTMLButtonElement>(\"#check-updates-btn\");\n\nif (!IS_DESKTOP_APP) {\n    checkUpdatesBtn.disabled = true;\n    checkUpdatesBtn.title = \"\";\n}\n\ncheckUpdatesBtn.onclick = () => {\n    checkForUpdates();\n    localStorage.removeItem(\"reposCache\");\n}",
    "import { delay } from \"@wxn0brp/flanker-ui/utils\";\nimport \"@wxn0brp/flanker-ui/html\";\nexport const uiMessagesDiv = qs(\"#FD-message\");\nexport const promptDiv = qs(\"#FD-prompt\");\nexport let langFunc = (text, ...data) => {\n    return text.replace(/\\\\\\$|(?<!\\\\)\\$/g, (match) => {\n        if (match === \"\\\\$\")\n            return \"$\";\n        return data.shift()?.toString() || \"$\";\n    });\n};\nexport function setLangFunc(func) {\n    langFunc = func;\n}\nexport async function uiMessage(message, opts = {}) {\n    opts = {\n        displayTime: 6000,\n        ...opts,\n    };\n    const div = document.createElement(\"div\");\n    div.innerHTML = message;\n    div.style.top = `-${div.offsetHeight + 20}px`;\n    if (opts.className)\n        div.classList.add(opts.className);\n    if (opts.backgroundColor)\n        div.style.backgroundColor = opts.backgroundColor;\n    const padding = 10;\n    let topPosition = calculateTopPosition();\n    function calculateTopPosition() {\n        let top = 0;\n        for (const child of uiMessagesDiv.children)\n            top += child.offsetHeight + padding;\n        return top;\n    }\n    let ended = false;\n    async function end() {\n        ended = true;\n        div.style.top = `-${div.offsetHeight + 20}px`;\n        await delay(700);\n        for (const child of uiMessagesDiv.children) {\n            const childE = child;\n            const currentTop = parseInt(childE.style.top.replace(\"px\", \"\"));\n            childE.style.top = `${currentTop - padding - div.offsetHeight}px`;\n        }\n        div.remove();\n    }\n    div.addEventListener(\"click\", end);\n    if (opts.onClick)\n        div.addEventListener(\"click\", opts.onClick);\n    uiMessagesDiv.appendChild(div);\n    await delay(100);\n    div.style.top = `${10 + topPosition}px`;\n    await delay(opts.displayTime - 700);\n    if (ended)\n        return;\n    await end();\n}\nexport async function uiMsg(data, opts = {}) {\n    opts = {\n        extraTime: 0,\n        ...opts\n    };\n    const speed = 1 / 3; //1s = 3 words\n    const time = data.split(\" \").length * speed + 6 + opts.extraTime;\n    const msgOpts = {\n        displayTime: time * 1000,\n        className: \"uiMsg\",\n    };\n    if (opts.onClick)\n        msgOpts.onClick = opts.onClick;\n    uiMessage(data, msgOpts);\n}\nexport async function uiMsgT(text, ...data) {\n    let lastText = \"\";\n    if (data.length > 0) {\n        if (Array.isArray(data[0])) {\n            lastText = data.shift();\n        }\n    }\n    text = langFunc(text, ...data) + lastText;\n    uiMsg(text);\n}\nexport async function prompt(text, defaultValue = \"\") {\n    return new Promise((resolve) => {\n        function end() {\n            resolve(input.value);\n            div.fadeOut();\n            setTimeout(() => {\n                div.remove();\n            }, 2000);\n        }\n        const div = document.createElement(\"div\");\n        div.style.opacity = \"0\";\n        div.classList.add(\"prompt\");\n        div.innerHTML = \"<p>\" + text + \"<p><br />\";\n        const input = document.createElement(\"input\");\n        input.type = \"text\";\n        input.value = defaultValue;\n        input.addEventListener(\"keydown\", (e) => {\n            if (e.key == \"Enter\")\n                end();\n        });\n        div.appendChild(input);\n        setTimeout(() => {\n            input.focus();\n        }, 100);\n        div.appendChild(document.createElement(\"br\"));\n        const btn = document.createElement(\"button\");\n        btn.innerHTML = \"OK\";\n        div.appendChild(btn);\n        btn.addEventListener(\"click\", end);\n        promptDiv.appendChild(div);\n        div.fadeIn();\n    });\n}\nexport async function confirm(text, yesText = \"OK\", noText = \"Cancel\") {\n    return new Promise((resolve) => {\n        function end(accept) {\n            return () => {\n                resolve(accept);\n                div.fadeOut();\n                setTimeout(() => {\n                    div.remove();\n                }, 2000);\n            };\n        }\n        const div = document.createElement(\"div\");\n        div.style.opacity = \"0\";\n        div.classList.add(\"prompt\");\n        div.innerHTML = \"<p>\" + text + \"<p><br />\";\n        const flex = document.createElement(\"div\");\n        flex.style.display = \"flex\";\n        flex.style.justifyContent = \"space-evenly\";\n        const reject = document.createElement(\"button\");\n        reject.innerHTML = noText || \"Cancel\";\n        reject.addEventListener(\"click\", end(false));\n        flex.appendChild(reject);\n        const accept = document.createElement(\"button\");\n        accept.innerHTML = yesText || \"OK\";\n        accept.addEventListener(\"click\", end(true));\n        flex.appendChild(accept);\n        function btn(e) {\n            if (e.key == \"Enter\")\n                end(true)();\n            else if (e.key == \"Escape\")\n                end(false)();\n            document.removeEventListener(\"keydown\", btn);\n        }\n        document.addEventListener(\"keydown\", btn);\n        setTimeout(() => {\n            accept.focus();\n        }, 100);\n        div.appendChild(flex);\n        promptDiv.appendChild(div);\n        div.fadeIn();\n    });\n}\nexport async function selectPrompt(text, options, optionsValues = [], categories = []) {\n    return new Promise((resolve) => {\n        function end() {\n            resolve(select.value);\n            div.fadeOut();\n            setTimeout(() => {\n                div.remove();\n            }, 2000);\n        }\n        const div = document.createElement(\"div\");\n        div.style.opacity = \"0\";\n        div.classList.add(\"prompt\");\n        div.innerHTML = \"<p>\" + text + \"<p><br />\";\n        const select = document.createElement(\"select\");\n        for (let i = 0; i < categories.length; i++) {\n            const category = categories[i];\n            const selectElement = document.createElement(\"optgroup\");\n            selectElement.label = category.name;\n            for (let j = 0; j < category.options.length; j++) {\n                const optionElement = document.createElement(\"option\");\n                optionElement.value = category.options[j] || category.options[j];\n                optionElement.innerHTML = category.options[j];\n                selectElement.appendChild(optionElement);\n            }\n            select.appendChild(selectElement);\n        }\n        for (let i = 0; i < options.length; i++) {\n            const optionElement = document.createElement(\"option\");\n            optionElement.value = optionsValues[i] || options[i];\n            optionElement.innerHTML = options[i];\n            select.appendChild(optionElement);\n        }\n        select.querySelector(\"option\").selected = true;\n        div.appendChild(select);\n        div.appendChild(document.createElement(\"br\"));\n        const btn = document.createElement(\"button\");\n        btn.innerHTML = \"OK\";\n        div.appendChild(btn);\n        btn.addEventListener(\"click\", end);\n        promptDiv.appendChild(div);\n        div.fadeIn();\n    });\n}\nexport async function promptTime(text, inputType = \"datetime-local\", min, max) {\n    return new Promise((resolve) => {\n        function end() {\n            resolve(input.value);\n            div.fadeOut();\n            setTimeout(() => {\n                div.remove();\n            }, 2000);\n        }\n        const div = document.createElement(\"div\");\n        div.style.opacity = \"0\";\n        div.classList.add(\"prompt\");\n        div.innerHTML = \"<p>\" + text + \"<p><br />\";\n        const input = document.createElement(\"input\");\n        input.type = inputType;\n        input.value = \"00:00\";\n        if (min)\n            input.min = new Date(min).toISOString();\n        if (max)\n            input.max = new Date(max).toISOString();\n        input.addEventListener(\"keydown\", (e) => {\n            if (e.key == \"Enter\")\n                end();\n        });\n        div.appendChild(input);\n        setTimeout(() => {\n            input.focus();\n        }, 100);\n        div.appendChild(document.createElement(\"br\"));\n        const btn = document.createElement(\"button\");\n        btn.innerHTML = \"OK\";\n        div.appendChild(btn);\n        btn.addEventListener(\"click\", end);\n        promptDiv.appendChild(div);\n        div.fadeIn();\n    });\n}\nwindow.FD = {\n    uiMessage,\n    uiMsg,\n    uiMsgT,\n    confirm,\n    prompt,\n    selectPrompt,\n    promptTime,\n};\n",
    "const modal = qs(\"#confirmation-modal\");\nconst modalMessage = qs<HTMLParagraphElement>(\"#modal-message\");\nconst modalWarning = qs(\"#modal-warning\");\nconst modalConfirm = qs<HTMLButtonElement>(\"#modal-confirm\");\nconst modalCancel = qs<HTMLButtonElement>(\"#modal-cancel\");\n\nexport function showConfirmation(message: string, showWarning: boolean, onConfirm: () => void) {\n    if (!modal || !modalMessage || !modalWarning || !modalConfirm || !modalCancel) return;\n\n    modalMessage.textContent = message;\n    modalWarning.style.display = showWarning ? \"block\" : \"none\";\n    modal.style.display = \"flex\";\n\n    const confirmHandler = () => {\n        onConfirm();\n        hideModal();\n    }\n\n    const cancelHandler = () => {\n        hideModal();\n    }\n\n    const hideModal = () => {\n        modal.style.display = \"none\";\n        modalConfirm.removeEventListener(\"click\", confirmHandler);\n        modalCancel.removeEventListener(\"click\", cancelHandler);\n    }\n\n    modalConfirm.addEventListener(\"click\", confirmHandler);\n    modalCancel.addEventListener(\"click\", cancelHandler);\n}",
    "import { uiMsg } from \"@wxn0brp/flanker-dialog\";\nimport { incrementCell, updateCell } from \"@wxn0brp/flanker-ui/storeUtils\";\nimport { showConfirmation } from \"../confirm\";\nimport { appsToUpdateCount, DISABLED_TITLE, zhivaInstalled } from \"../vars\";\nimport { fetchApi, IS_DESKTOP_APP } from \"../../api\";\n\nexport function updateInstalled() {\n    document.querySelectorAll<HTMLDivElement>(\".repo-card\").forEach((card) => {\n        const name = card.getAttribute(\"data-name\");\n\n        const installFn = () => fetchApi(\"install\", {}, { app: name });\n\n        const installed = zhivaInstalled.get().includes(name);\n        const installedEl = card.qs(\".installed\");\n        if (installedEl)\n            installedEl.innerHTML = installed ? \"üíú Installed\" : \"‚ùå Not Installed\";\n\n        const installBtn = card.qs<HTMLButtonElement>(\".install\");\n        const uninstallBtn = card.qs<HTMLButtonElement>(\".uninstall\");\n\n        if (installed && IS_DESKTOP_APP) {\n            installBtn.innerHTML = \"Update\";\n            installBtn.onclick = async () => {\n                installBtn.disabled = true;\n                installBtn.textContent = \"Updating...\";\n                await installFn();\n                installBtn.textContent = \"Update\";\n                installBtn.disabled = false;\n                uiMsg(\"üíú Updated\");\n                card.clR(\"has-update\");\n                incrementCell(appsToUpdateCount, -1);\n            }\n\n            uninstallBtn.style.display = \"\";\n            uninstallBtn.onclick = () => {\n                if (installBtn.disabled) return;\n                showConfirmation(\n                    `Are you sure you want to uninstall ${name}?`,\n                    false,\n                    async () => {\n                        await fetchApi(\"uninstall\", {}, { app: name });\n                        updateCell(zhivaInstalled, (apps) => apps.filter((app) => app !== name));\n                        updateInstalled();\n                    }\n                )\n            }\n        } else {\n            installBtn.innerHTML = \"Install\";\n            installBtn.onclick = () => {\n                const isVerified = card.getAttribute(\"data-verified\") === \"true\";\n                showConfirmation(\n                    `Are you sure you want to install ${name}?`,\n                    !isVerified,\n                    async () => {\n                        installBtn.disabled = true;\n                        installBtn.textContent = \"Installing...\";\n                        await installFn();\n                        zhivaInstalled.get().push(name);\n                        installBtn.textContent = \"Install\";\n                        installBtn.disabled = false;\n                        updateInstalled();\n                    }\n                );\n            }\n\n            uninstallBtn.style.display = \"none\";\n        }\n\n        const startBtn = card.qs<HTMLButtonElement>(\".start\");\n        startBtn.style.display = installed || !IS_DESKTOP_APP ? \"\" : \"none\";\n\n        startBtn.onclick = () => {\n            fetchApi(\"start\", {}, { app: name });\n        }\n\n        card.qs(\".open-gh\").onclick = () => {\n            openGH(name);\n        }\n\n        card.qs(\"a\").onclick = (e) => {\n            e.preventDefault();\n            openGH(name);\n        }\n    });\n}\n\nfunction openGH(name: string) {\n    const url = \"https://github.com/\" + name;\n    if (IS_DESKTOP_APP) (window as any).zhiva_openExternal(url);\n    else window.open(url, \"_blank\");\n}\n\nconst updateAllBtn = qs<HTMLButtonElement>(\"#update-all-btn\");\n\nif (!IS_DESKTOP_APP) {\n    updateAllBtn.disabled = true;\n    updateAllBtn.title = DISABLED_TITLE;\n}\n\nupdateAllBtn.onclick = async () => {\n    updateAllBtn.disabled = true;\n    updateAllBtn.textContent = \"Updating...\";\n\n    const res = await fetchApi(\"update\");\n    const data = await res.json();\n\n    updateAllBtn.disabled = false;\n    updateAllBtn.textContent = \"Update All\";\n\n    if (data.err) {\n        uiMsg(`Error updating apps: ${data.msg}`);\n        return;\n    }\n\n    uiMsg(\"üíú Apps updated successfully!\");\n    document.querySelectorAll(\".repo-card\").forEach(card => card.classList.remove(\"has-update\"));\n\n    const zhivaInstalledData = await fetchApi(\"installed\").then(res => res.json());\n    if (zhivaInstalledData.err) return;\n    zhivaInstalled.set(zhivaInstalledData.apps);\n    updateInstalled();\n};",
    "import { gitRaw } from \"./vars\";\nimport { Manifest, Repo } from \"./types\";\n\nconst appsManifest: Record<string, Manifest> = {};\n\nexport async function loadManifest(name: string) {\n    const url = `${gitRaw}${name}/HEAD/zhiva.json`;\n    try {\n        const res = await fetch(url);\n        if (res.ok) {\n            const json = await res.json();\n            appsManifest[name] = json;\n        }\n    } catch {\n        appsManifest[name] = null;\n    }\n}\n\nexport async function getManifest(repo: Repo | string) {\n    const name = typeof repo === \"string\" ? repo : repo.name;\n    const cache = appsManifest[name];\n    if (cache) return cache;\n    if (cache === null) return {};\n    await loadManifest(name);\n    return appsManifest[name];\n}",
    "import { gitRaw } from \"./vars\";\nimport { getManifest } from \"./manifest\";\nimport { Repo } from \"./types\";\n\nconst ICON_PATHS = [\n    \"favicon.png\",\n    \"favicon.svg\",\n    \"public/favicon.png\",\n    \"public/favicon.svg\",\n];\n\nexport async function findRepoIcon(repo: Repo): Promise<string | null> {\n    const manifest = await getManifest(repo);\n    if (manifest.icon === \"default\" || (!manifest.icon && manifest.win_icon === \"default\"))\n        return `/zhiva-assets/zhiva.ico`;\n    if (manifest.icon || manifest.win_icon)\n        return `${gitRaw}${repo.name}/HEAD/${manifest.icon || manifest.win_icon}`;\n\n    for (const path of ICON_PATHS) {\n        const url = gitRaw + repo.name + \"/HEAD/\" + path;\n        try {\n            const res = await fetch(url, { method: \"HEAD\" });\n            if (res.ok) return url;\n        } catch { }\n    }\n\n    return null;\n}",
    "import { mountView } from \"@wxn0brp/flanker-ui\";\nimport { findRepoIcon } from \"./icon\";\nimport { Repo } from \"./types\";\nimport { updateInstalled } from \"./update/update\";\nimport { fetchApi } from \"../api\";\n\nexport const zhivaRepoListView = mountView({\n    selector: \"#zhiva-repo-list\",\n    queryFunction: () => fetchZhivaRepos(),\n    template: (repo: Repo) => `\n        <div\n            class=\"repo-card\"\n            data-name=\"${repo.name}\"\n            data-verified=\"${repo.verified}\"\n        >\n            <div class=\"repo-header\">\n                <div class=\"repo-icon\">\n                    <div class=\"icon-placeholder\">üì¶</div>\n                </div>\n                <div class=\"repo-info\">\n                    <h3><a href=\"https://github.com/${repo.name}\">${repo.name}</a></h3>\n                    <span class=\"installed\"></span>\n                </div>\n            </div>\n            <p class=\"repo-description\">${repo.desc || \"No description available.\"}</p>\n            <div class=\"repo-actions\">\n                <button class=\"install\">Install</button>\n                <button class=\"uninstall\" style=\"color: red\">UnInstall</button>\n                <button class=\"start\">Start</button>\n                <button class=\"open-gh\">Open on GitHub</button>\n            </div>\n        </div>\n    `,\n    onData: (repos) => {\n        repos.forEach(async (repo: Repo) => {\n            const iconUrl = await findRepoIcon(repo);\n            const card = qs(`.repo-card[data-name=\"${repo.name}\"] .repo-icon`);\n            if (!card) return;\n            if (!iconUrl) return;\n\n            const img = document.createElement(\"img\");\n            img.src = iconUrl;\n            img.alt = `üì¶`;\n            img.width = 32;\n            img.height = 32;\n            card.innerHTML = \"\";\n            card.appendChild(img);\n        });\n        setTimeout(() => {\n            updateInstalled();\n        }, 100);\n    },\n    sort: (a, b) => b.stargazers_count - a.stargazers_count,\n});\n\nasync function fetchZhivaRepos() {\n    const res = await fetchApi(\"apps\");\n    const data = await res.json();\n    if (data.err) return [];\n    return data.apps;\n}",
    "import \"@wxn0brp/flanker-dialog/style.css\";\nimport \"@wxn0brp/flanker-ui/html\";\nimport { checkForUpdates } from \"./ui/update/check\";\nimport { updateInstalled } from \"./ui/update/update\";\nimport { appsToUpdateCount, updateStatus, zhivaInstalled } from \"./ui/vars\";\nimport { fetchApi } from \"./api\";\nimport { zhivaRepoListView } from \"./ui/view\";\n\nfetchApi(\"installed\").then(res => res.json()).then((data) => {\n    if (data.err) return;\n    zhivaInstalled.set(data.apps);\n    updateInstalled();\n});\n\ncheckForUpdates();\n\nappsToUpdateCount.subscribe(count => {\n    if (count < 0) return appsToUpdateCount.set(0);\n    if (!count) return updateStatus.innerHTML = \"No updates available\";\n    updateStatus.innerHTML = `Updates available for: ${count} app${count === 1 ? \"\" : \"s\"}.`;\n});\n\nzhivaRepoListView.load();"
  ],
  "mappings": "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",
  "debugId": "E8F1617598D122DB64756E2164756E21",
  "names": []
}