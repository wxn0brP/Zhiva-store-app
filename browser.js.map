{
  "version": 3,
  "sources": ["../node_modules/@wxn0brp/flanker-ui/dist/html.js", "../node_modules/@wxn0brp/zhiva-base-lib/src/front/api.ts", "../src/ui/api-mock.ts", "../src/api.ts", "../node_modules/@wxn0brp/flanker-ui/dist/utils.js", "../node_modules/@wxn0brp/flanker-dialog/dist/vars.js", "../node_modules/@wxn0brp/flanker-dialog/dist/msg/message.js", "../node_modules/@wxn0brp/flanker-dialog/dist/msg/index.js", "../node_modules/@wxn0brp/flanker-ui/dist/store.js", "../node_modules/@wxn0brp/flanker-ui/dist/component/helpers.js", "../node_modules/@wxn0brp/flanker-ui/dist/component/index.js", "../node_modules/@wxn0brp/flanker-ui/dist/storeUtils.js", "../node_modules/@wxn0brp/flanker-ui/dist/index.js", "../src/ui/cdf.ts", "../src/ui/settings.ts", "../src/ui/vars.ts", "../src/ui/update/check.ts", "../src/ui/confirm.ts", "../src/ui/update/update.ts", "../src/ui/manifest.ts", "../src/ui/icon.ts", "../src/ui/view.ts", "../src/browser.ts"],
  "sourcesContent": [
    "const proto = {\n    html(v) {\n        if (v !== undefined) {\n            this.innerHTML = v;\n            return this;\n        }\n        else {\n            return this.innerHTML;\n        }\n    },\n    v(v) {\n        if (v !== undefined) {\n            this.value = v;\n            return this;\n        }\n        else {\n            return this.value;\n        }\n    },\n    on(event, fn) {\n        this.addEventListener(event, fn);\n        return this;\n    },\n    css(style, val = null) {\n        if (typeof style === \"string\") {\n            if (val !== null) {\n                this.style[style] = val;\n            }\n            else {\n                this.style.cssText = style;\n            }\n        }\n        else {\n            Object.assign(this.style, style);\n        }\n        return this;\n    },\n    attrib(att, arg = null) {\n        if (arg !== null) {\n            this.setAttribute(att, arg);\n            return this;\n        }\n        else {\n            return this.getAttribute(att) || \"\";\n        }\n    },\n    clA(...arg) {\n        this.classList.add(...arg);\n        return this;\n    },\n    clR(...arg) {\n        this.classList.remove(...arg);\n        return this;\n    },\n    clT(className, force) {\n        this.classList.toggle(className, force);\n        return this;\n    },\n    animateFade(from, options = {}) {\n        const { time = 200, cb } = options;\n        const element = this;\n        const targetOpacity = from === 0 ? 1 : 0;\n        const startOpacity = Math.min(1, Math.max(0, from));\n        const startTime = performance.now();\n        element.style.opacity = startOpacity.toString();\n        function step(currentTime) {\n            const elapsed = currentTime - startTime;\n            const progress = Math.min(elapsed / time, 1);\n            const currentOpacity = startOpacity + (targetOpacity - startOpacity) * progress;\n            element.style.opacity = currentOpacity.toString();\n            if (progress < 1) {\n                requestAnimationFrame(step);\n            }\n            else {\n                element.style.opacity = targetOpacity.toString();\n                cb?.();\n            }\n        }\n        requestAnimationFrame(step);\n        return this;\n    },\n    fadeIn(...args) {\n        const opts = convert({\n            display: \"string\",\n            cb: \"function\",\n            time: \"number\",\n        }, args);\n        let { display = \"block\" } = opts;\n        this.css(\"display\", display);\n        this.animateFade(0, opts);\n        this.fade = true;\n        return this;\n    },\n    fadeOut(...args) {\n        const opts = convert({\n            cb: \"function\",\n            time: \"number\",\n        }, args);\n        const time = opts.time ?? 300;\n        opts.time = time;\n        this.animateFade(1, {\n            ...opts,\n            cb: () => {\n                this.css(\"display\", \"none\");\n                opts.cb?.();\n            }\n        });\n        this.fade = false;\n        return this;\n    },\n    async fadeInP(...args) {\n        return new Promise((resolve) => {\n            this.fadeIn(...args, () => resolve(this));\n        });\n    },\n    async fadeOutP(...args) {\n        return new Promise((resolve) => {\n            this.fadeOut(...args, () => resolve(this));\n        });\n    },\n    fade: true,\n    fadeToggle() {\n        this.fade ? this.fadeOut() : this.fadeIn();\n        return this;\n    },\n    add(child) {\n        this.appendChild(child);\n        return this;\n    },\n    addUp(child) {\n        this.insertBefore(child, this.firstChild);\n        return this;\n    },\n    qs(selector, did = 0) {\n        if (!!did)\n            selector = `[data-id=\"${selector}\"]`;\n        return this.querySelector(selector);\n    }\n};\n// @ts-ignore\nproto.qi = proto.qs;\nfunction convert(opts, args) {\n    const result = {};\n    if (args.length === 0)\n        return result;\n    if (args.every((arg) => typeof arg === \"object\"))\n        return Object.assign({}, ...args);\n    for (const value of args) {\n        for (const [key, expectedType] of Object.entries(opts)) {\n            if (typeof value === expectedType) {\n                result[key] = value;\n                break;\n            }\n        }\n    }\n    return result;\n}\nObject.assign(HTMLElement.prototype, proto);\nObject.assign(document, proto);\nObject.assign(document.body, proto);\nObject.assign(document.documentElement, proto);\nwindow.qs = window.qi = proto.qs.bind(document);\n//# sourceMappingURL=html.js.map",
    "import { ZhivaApiOptions, ZhivaApiQuery } from \"../types/api\";\n\nconst urlParams = new URLSearchParams(window.location.search);\nconst token = urlParams.get(\"zhiva-secret\");\n\nexport {\n    token as zhivaApiToken\n}\n\nexport function fetchApi(url: string, opts: ZhivaApiOptions = {}, query: ZhivaApiQuery = {}) {\n    const urlObj = new URL(\"/zhiva-api/\" + url, window.location.origin);\n\n    Object.entries(query).forEach(([key, value]) => {\n        urlObj.searchParams.set(key, value.toString());\n    });\n\n    return fetch(urlObj, {\n        ...opts,\n        headers: {\n            ...opts.headers,\n            \"x-zhiva-token\": token\n        }\n    });\n};\n\nexport async function fetchApiPost(url: string, body: Record<string, any> = {}, opts: ZhivaApiOptions = {}, query: ZhivaApiQuery = {}) {\n    return await fetchApi(url, {\n        method: \"POST\",\n        ...opts,\n        body: JSON.stringify(body),\n        headers: {\n            ...opts.headers,\n            \"Content-Type\": \"application/json\"\n        }\n    }, query).then(res => res.json());\n}\n\nexport async function fetchApiJson(url: string, opts: ZhivaApiOptions = {}, query: ZhivaApiQuery = {}) {\n    return await fetchApi(url, opts, query).then(res => res.json());\n}\n",
    "import { ZhivaApiOptions, ZhivaApiQuery } from \"@wxn0brp/zhiva-base-lib/types/api\";\n\nexport async function mockFetchApi(endpoint: string, options: ZhivaApiOptions = {}, query: ZhivaApiQuery = {}): Promise<Response> {\n    console.log(`[BROWSER MODE] Mocked API call for: ${endpoint}`, { options, query });\n    const appName = query?.app;\n\n    switch (endpoint) {\n        case \"installed\":\n            return new Response(JSON.stringify({ apps: [] }), {\n                status: 200,\n                headers: { \"Content-Type\": \"application/json\" }\n            });\n\n        case \"get-updates\":\n            return new Response(JSON.stringify({ err: false, updates: {} }), {\n                status: 200,\n                headers: { \"Content-Type\": \"application/json\" }\n            });\n\n        case \"install\":\n            window.location.href = `zhiva://install/${appName}`;\n            return new Response(JSON.stringify({ err: false }), {\n                status: 200,\n                headers: { \"Content-Type\": \"application/json\" }\n            });\n\n        case \"start\":\n            window.location.href = `zhiva://start/${appName}`;\n            return new Response(JSON.stringify({ err: false }), {\n                status: 200,\n                headers: { \"Content-Type\": \"application/json\" }\n            });\n\n        case \"uninstall\":\n        case \"update\":\n            console.warn(`Action \"${endpoint}\" is not available in browser-only mode. Doing nothing.`);\n            return new Response(JSON.stringify({ err: false }), {\n                status: 200,\n                headers: { \"Content-Type\": \"application/json\" }\n            });\n\n        case \"apps\":\n            return new Response(JSON.stringify({ err: false, apps: await fetchApps() }), {\n                status: 200,\n                headers: { \"Content-Type\": \"application/json\" }\n            });\n\n        default:\n            console.error(`Endpoint not mocked for browser mode: ${endpoint}`);\n            return new Response(JSON.stringify({ err: true, msg: \"Endpoint not mocked for browser mode\" }), {\n                status: 404,\n                headers: { \"Content-Type\": \"application/json\" }\n            });\n    }\n}\n\ninterface Repo {\n    name: string;\n    desc: string;\n    stars: number;\n    verified?: boolean;\n}\n\nasync function getFromCache(key: string, ttl: number, fetcher: (...args: any[]) => Promise<any>, args: any[] = []) {\n    const cache = localStorage.getItem(key);\n    if (cache) return JSON.parse(cache);\n    const data = await fetcher(...args);\n    localStorage.setItem(key, JSON.stringify(data));\n    setTimeout(() => localStorage.removeItem(key), ttl);\n    return data;\n}\n\nasync function fetchApps() {\n    let apps: Repo[] = await getFromCache(\"search\", 5 * 60 * 1000, fetchAllRepos);\n    const banned: string[] = await getFromCache(\"banned\", 5 * 60 * 1000, fetchBanned);\n\n    apps = apps.filter(item => !banned.includes(item.name));\n\n    const verified = await getFromCache(\n        \"verified\",\n        5 * 60 * 1000,\n        fetchVerified,\n        [\n            apps.map(item => item.name)\n        ]\n    );\n\n    apps.forEach(item => item.verified = verified.includes(item.name));\n    console.log(\"Fetched apps:\", apps);\n    return apps;\n}\n\nasync function fetchAllRepos(): Promise<Repo[]> {\n    const data = await fetch(\"https://api.github.com/search/repositories?q=topic:Zhiva-app\").then((res) => res.json());\n    return data.items.map((item: any) => ({\n        name: item.full_name,\n        desc: item.description,\n        stars: item.stargazers_count\n    }));\n}\n\nasync function fetchData(file: string) {\n    const data = await fetch(`https://raw.githubusercontent.com/wxn0brP/Zhiva-registry/HEAD/${file}.txt`).then((res) => res.text());\n    return data.split(\"\\n\").map(line => line.split(\"#\")[0].trim()).filter(Boolean);\n}\n\nasync function fetchBanned() {\n    return await fetchData(\"banned\");\n}\n\nasync function fetchVerified(installedApps: string[]) {\n    const apps = await fetchData(\"verified\");\n    apps.push(...installedApps.filter(app => app.startsWith(\"wxn0brP/\")));\n    return apps;\n}\n",
    "import { fetchApi as realFetchApi } from \"@wxn0brp/zhiva-base-lib/front/api\";\nimport { mockFetchApi } from \"./ui/api-mock\";\n\nexport const IS_DESKTOP_APP = typeof (window as any).zhiva_isApp !== \"undefined\";\nconsole.log(\"Running in\", IS_DESKTOP_APP ? \"desktop\" : \"browser mode\");\nexport const fetchApi = IS_DESKTOP_APP ? realFetchApi : mockFetchApi;\n",
    "export function rand(min, max) {\n    return Math.round(Math.random() * (max - min) + min);\n}\nexport function round(number, decimalPlaces) {\n    const multiplier = Math.pow(10, decimalPlaces);\n    return Math.round(number * multiplier) / multiplier;\n}\nexport function clamp(min, value, max) {\n    return Math.min(Math.max(value, min), max);\n}\nexport function get(url) {\n    if (!url)\n        return \"\";\n    const xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", url, false);\n    xhr.send();\n    if (xhr.status === 200) {\n        return xhr.responseText;\n    }\n    else if (xhr.status === 404) {\n        return \"\";\n    }\n    else {\n        return \"\";\n    }\n}\nexport function getJSON(url) {\n    return JSON.parse(get(url));\n}\nexport function debounce(func, wait = 100) {\n    let timeout;\n    return function executedFunction(...args) {\n        const later = () => {\n            clearTimeout(timeout);\n            func(...args);\n        };\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n    };\n}\nexport function throttle(func, wait = 100) {\n    let inThrottle;\n    return function executedFunction(...args) {\n        if (!inThrottle) {\n            func(...args);\n            inThrottle = true;\n            setTimeout(() => (inThrottle = false), wait);\n        }\n    };\n}\nexport function delay(ms) {\n    return new Promise(res => setTimeout(res, ms));\n}\n//# sourceMappingURL=utils.js.map",
    "export const uiMessagesDiv = document.querySelector(\"#FD-message\");\nexport const promptDiv = document.querySelector(\"#FD-prompt\");\n",
    "import { delay } from \"@wxn0brp/flanker-ui/utils\";\nimport { uiMessagesDiv } from \"../vars.js\";\nexport async function uiMessage(message, opts = {}) {\n    opts = {\n        displayTime: 6000,\n        ...opts,\n    };\n    const div = document.createElement(\"div\");\n    div.innerHTML = message;\n    div.style.top = `-${div.offsetHeight + 20}px`;\n    if (opts.className)\n        div.classList.add(opts.className);\n    if (opts.backgroundColor)\n        div.style.backgroundColor = opts.backgroundColor;\n    const padding = 10;\n    let topPosition = calculateTopPosition();\n    function calculateTopPosition() {\n        let top = 0;\n        for (const child of uiMessagesDiv.children)\n            top += child.offsetHeight + padding;\n        return top;\n    }\n    let ended = false;\n    async function end() {\n        ended = true;\n        div.style.top = `-${div.offsetHeight + 20}px`;\n        await delay(700);\n        for (const child of uiMessagesDiv.children) {\n            const childE = child;\n            const currentTop = parseInt(childE.style.top.replace(\"px\", \"\"));\n            childE.style.top = `${currentTop - padding - div.offsetHeight}px`;\n        }\n        div.remove();\n    }\n    div.addEventListener(\"click\", end);\n    if (opts.onClick)\n        div.addEventListener(\"click\", opts.onClick);\n    uiMessagesDiv.appendChild(div);\n    await delay(100);\n    div.style.top = `${10 + topPosition}px`;\n    await delay(opts.displayTime - 700);\n    if (ended)\n        return;\n    await end();\n}\n",
    "import { uiMessage } from \"./message.js\";\nexport async function uiMsg(data, opts = {}) {\n    opts = {\n        extraTime: 0,\n        ...opts\n    };\n    const speed = 1 / 3; //1s = 3 words\n    const time = data.split(\" \").length * speed + 6 + opts.extraTime;\n    const msgOpts = {\n        displayTime: time * 1000,\n        className: \"uiMsg\",\n    };\n    if (opts.onClick)\n        msgOpts.onClick = opts.onClick;\n    await uiMessage(data, msgOpts);\n}\n",
    "export const storeKeys = [\n    \"listeners\",\n    \"value\",\n    \"notify\",\n    \"get\",\n    \"getPointer\",\n    \"set\",\n    \"subscribe\",\n    \"parent\",\n    \"isStore\",\n];\nexport function createStore(schema, parent) {\n    const store = {};\n    for (const key in schema) {\n        if (schema.hasOwnProperty(key)) {\n            const isStore = typeof schema[key] === \"object\" &&\n                !Array.isArray(schema[key]) &&\n                schema[key] !== null;\n            if (isStore) {\n                store[key] = createStore(schema[key], store);\n            }\n            else {\n                store[key] = new ReactiveCell(schema[key], store);\n            }\n        }\n    }\n    store.isStore = true;\n    store.listeners = [];\n    store.value = undefined;\n    store.parent = parent;\n    store.notify = (propagate = 0) => {\n        store.listeners.forEach(listener => listener(store));\n        if (propagate > 0 && parent && typeof parent.notify === \"function\") {\n            parent.notify(propagate - 1);\n        }\n        return store;\n    };\n    store.get = () => {\n        const obj = {};\n        for (const key in store) {\n            if (storeKeys.includes(key))\n                continue;\n            if (store.hasOwnProperty(key)) {\n                obj[key] = store[key].get();\n            }\n        }\n        return obj;\n    };\n    store.getPointer = () => {\n        const obj = {};\n        for (const key in store) {\n            if (storeKeys.includes(key))\n                continue;\n            if (store.hasOwnProperty(key)) {\n                obj[key] = store[key];\n            }\n        }\n        return obj;\n    };\n    store.set = (data, propagate = 0) => {\n        for (const key in data) {\n            if (storeKeys.includes(key)) {\n                throw new Error(`Reserved key: ${key}`);\n            }\n            if (!store.hasOwnProperty(key)) {\n                throw new Error(`Unknown key: ${key}`);\n            }\n            const target = store[key];\n            if (target.isStore) {\n                throw new Error(`Cannot set nested store: ${key}`);\n            }\n            const value = data[key];\n            if (typeof value === \"object\" && value !== null && !Array.isArray(value)) {\n                throw new Error(`Invalid value for key: ${key}`);\n            }\n        }\n        for (const key in data) {\n            store[key].set(data[key], propagate);\n        }\n        return store;\n    };\n    store.subscribe = (listener) => {\n        store.listeners.push(listener);\n        return store;\n    };\n    return store;\n}\nexport function createStoreValue(parent, data) {\n    return new ReactiveCell(data, parent);\n}\nexport class ReactiveCell {\n    value;\n    parent;\n    listeners = [];\n    isStore = false;\n    constructor(value, parent) {\n        this.value = value;\n        this.parent = parent;\n    }\n    get() {\n        return this.value;\n    }\n    set(newVal, propagation = 0) {\n        this.value = newVal;\n        this.notify(propagation);\n        return this;\n    }\n    notify(propagation = 0) {\n        this.listeners.forEach(listener => listener(this.value));\n        if (propagation > 0 && this.parent && typeof this.parent.notify === \"function\") {\n            this.parent.notify(propagation - 1);\n        }\n        return this;\n    }\n    subscribe(listener) {\n        this.listeners.push(listener);\n        return this;\n    }\n}\n//# sourceMappingURL=store.js.map",
    "export function storeHide(element, storeValue) {\n    storeValue.subscribe((data) => {\n        element.style.display = data ? \"\" : \"none\";\n    });\n}\nexport function bindHandlers(root, map, event = \"click\") {\n    for (const [selector, handler] of Object.entries(map)) {\n        const el = root.querySelector(selector);\n        if (el)\n            el.addEventListener(event, handler);\n    }\n}\nexport function renderList(container, items, renderItem, ifElse) {\n    if (!items?.length && ifElse) {\n        container.innerHTML = ifElse;\n        return;\n    }\n    container.innerHTML = items.map(renderItem).join(\"\");\n}\nexport function renderListNodes(container, items, renderItem, ifElse) {\n    container.innerHTML = \"\";\n    if (!items?.length && ifElse) {\n        typeof ifElse === \"string\" ? container.innerHTML = ifElse : container.appendChild(ifElse);\n        return;\n    }\n    for (let i = 0; i < items.length; i++) {\n        container.appendChild(renderItem(items[i], i));\n    }\n}\nexport function watchInput(el, store, setFromElement = false) {\n    if (setFromElement)\n        store.set(el.value);\n    else\n        el.value = store.get();\n    el.addEventListener(\"input\", () => {\n        store.set(el.value);\n    });\n    store.subscribe(value => {\n        if (el.value !== value)\n            el.value = value;\n    });\n}\nexport function watchSelect(el, store, setFromElement = false) {\n    if (setFromElement)\n        store.set(el.value);\n    else\n        el.value = store.get();\n    el.addEventListener(\"change\", () => {\n        store.set(el.value);\n    });\n    store.subscribe(value => {\n        if (el.value !== value)\n            el.value = value;\n    });\n}\nexport function watchCheckbox(el, store, setFromElement = false) {\n    if (setFromElement)\n        store.set(el.checked);\n    else\n        el.checked = store.get();\n    el.addEventListener(\"change\", () => {\n        store.set(el.checked);\n    });\n    store.subscribe(value => {\n        if (el.checked !== value)\n            el.checked = value;\n    });\n}\nexport function htmlToElement(html) {\n    const template = document.createElement(\"template\");\n    template.innerHTML = html.trim();\n    return template.content.firstElementChild;\n}\n//# sourceMappingURL=helpers.js.map",
    "let fetchVQL = window?.VQLClient?.fetchVQL;\nexport function setFetchVQL(fn) { fetchVQL = fn; }\nexport function mountView(opts, extra) {\n    const el = typeof opts.selector === \"string\" ? document.querySelector(opts.selector) : opts.selector;\n    if (!el)\n        throw new Error(`mountView: selector '${opts.selector}' not found`);\n    async function load(args = {}) {\n        let data;\n        const assignArgs = Object.assign({}, opts.queryArgs, args);\n        if (opts.queryFunction)\n            data = await opts.queryFunction(assignArgs, args);\n        else if (typeof opts.query === \"string\")\n            data = await fetchVQL({ query: opts.query, var: args });\n        else if (typeof opts.query === \"function\")\n            data = await fetchVQL(await opts.query(assignArgs, args));\n        else if (typeof opts.query === \"object\" && !Array.isArray(opts.query))\n            data = await fetchVQL(opts.query);\n        else\n            data = args;\n        if (opts.onData)\n            opts.onData(data);\n        if (opts.transform)\n            data = opts.transform(data);\n        if (opts.onDataTransform)\n            opts.onDataTransform(data);\n        if (opts.sort) {\n            if (typeof opts.sort === \"function\") {\n                data = data.sort(opts.sort);\n            }\n            else if (typeof opts.sort === \"string\") {\n                const key = opts.sort;\n                data = data.sort((a, b) => {\n                    const av = a?.[key], bv = b?.[key];\n                    return (typeof av === \"string\" || typeof bv === \"string\")\n                        ? String(av).localeCompare(String(bv))\n                        : (av ?? 0) - (bv ?? 0);\n                });\n            }\n        }\n        if (opts.onDataSort)\n            opts.onDataSort(data);\n        render(data, opts.templateDataMode ?? \"replace\");\n    }\n    // Events (delegated, attached once)\n    if (opts.events) {\n        for (const [type, targets] of Object.entries(opts.events)) {\n            el.addEventListener(type, (e) => {\n                const target = e.target;\n                for (const [selector, handler] of Object.entries(targets)) {\n                    const match = target.closest(selector);\n                    if (match && el.contains(match)) {\n                        handler(match, e);\n                        break;\n                    }\n                }\n            });\n        }\n    }\n    function render(data, mode = \"replace\") {\n        let res = \"\";\n        let empty = false;\n        // Check if data is empty\n        if ((Array.isArray(data) && data.length === 0) ||\n            (typeof data === \"object\" && data !== null && Object.keys(data).length === 0) ||\n            data === null ||\n            data === undefined) {\n            res = opts.emptyData ?? \"\";\n            empty = true;\n        }\n        else {\n            res = Array.isArray(data) ? data.map(opts.template).join(\"\") : opts.template(data);\n        }\n        // Handle mode\n        if (mode === \"append\" || mode === \"prepend\") {\n            if (empty) {\n                // If data is empty:\n                // - if the element already has some content (and hasn't been marked as empty before), do nothing\n                if (el.innerHTML.trim() !== \"\" && el.getAttribute(\"data-fu-empty\") !== \"true\") {\n                    return;\n                }\n                // Otherwise, set the fallback\n                el.innerHTML = res;\n                el.setAttribute(\"data-fu-empty\", \"true\");\n            }\n            else {\n                // Data is not empty:\n                // If there was a fallback, remove it and start from a clean state\n                if (el.getAttribute(\"data-fu-empty\") === \"true\") {\n                    el.innerHTML = res;\n                }\n                else {\n                    // Otherwise, append/prepend\n                    el.innerHTML = mode === \"append\" ? el.innerHTML + res : res + el.innerHTML;\n                }\n                el.removeAttribute(\"data-fu-empty\");\n            }\n        }\n        else {\n            // Replace mode ‚Äì always replaces\n            el.innerHTML = res;\n            if (empty) {\n                el.setAttribute(\"data-fu-empty\", \"true\");\n            }\n            else {\n                el.removeAttribute(\"data-fu-empty\");\n            }\n        }\n    }\n    const base = {\n        element: el,\n        mount: () => { },\n        load,\n        render\n    };\n    return Object.assign(base, extra ?? {});\n}\nexport * as uiHelpers from \"./helpers.js\";\nexport * as infinityScroll from \"./infinityScroll.js\";\n//# sourceMappingURL=index.js.map",
    "export function toggleBoolean(cell) {\n    cell.set(!cell.get());\n    return cell;\n}\nexport function updateCell(cell, fn) {\n    cell.set(fn(cell.get()));\n    return cell;\n}\nexport function pushToCell(cell, item) {\n    cell.set([...cell.get(), item]);\n    return cell;\n}\nexport function toggleInSetCell(cell, item) {\n    const next = new Set(cell.get());\n    next.has(item) ? next.delete(item) : next.add(item);\n    cell.set(next);\n    return cell;\n}\nexport function incrementCell(cell, by = 1) {\n    cell.set(cell.get() + by);\n    return cell;\n}\nexport function decrementCell(cell, by = 1) {\n    cell.set(cell.get() - by);\n    return cell;\n}\n//# sourceMappingURL=storeUtils.js.map",
    "export * from \"./store.js\";\nexport * from \"./types.js\";\nimport * as utils from \"./utils.js\";\nexport * from \"./component/index.js\";\nexport * as storeUtils from \"./storeUtils.js\";\nexport * as reactStore from \"./reactive/index.js\";\nglobalThis.lo = console.log;\nexport default utils;\n//# sourceMappingURL=index.js.map",
    "import { createStore } from \"@wxn0brp/flanker-ui\";\nimport { watchCheckbox } from \"@wxn0brp/flanker-ui/component/helpers\";\n\nexport function initCdfCheckBox(container: HTMLDivElement) {\n    const store = createStore({\n        desktop: false,\n        menu: false,\n        not: false,\n    })\n\n    const notCheckbox = container.qi(\"shortcut-not\", 1);\n    const desktopCheckbox = container.qi(\"shortcut-desktop\", 1);\n    const menuCheckbox = container.qi(\"shortcut-menu\", 1);\n\n    store.not.subscribe(v => {\n        if (v) {\n            desktopCheckbox.disabled = true;\n            menuCheckbox.disabled = true;\n            desktopCheckbox.checked = false;\n            menuCheckbox.checked = false;\n        } else {\n            desktopCheckbox.disabled = false;\n            menuCheckbox.disabled = false;\n        }\n    });\n\n    watchCheckbox(desktopCheckbox, store.desktop);\n    watchCheckbox(menuCheckbox, store.menu);\n    watchCheckbox(notCheckbox, store.not);\n\n    return store;\n}\n",
    "import { uiMsg } from \"@wxn0brp/flanker-dialog/msg/index\";\nimport { fetchApiJson, fetchApiPost } from \"@wxn0brp/zhiva-base-lib/front/api\";\nimport { IS_DESKTOP_APP } from \"../api\";\nimport { initCdfCheckBox } from \"./cdf\";\n\nconst settingsContainer = qs<HTMLDivElement>(\"#settings\");\nconst saveButton = qs<HTMLButtonElement>(\"#save-shortcuts-btn\");\nconst openSettings = qs<HTMLButtonElement>(\"#open-settings\");\n\nexport const store = initCdfCheckBox(settingsContainer);\n\nasync function loadPreferences() {\n    const data = await fetchApiJson(\"shortcut-pref\");\n    if (!data.err && data.data) {\n        store.menu.set(data.data.includes(\"m\"));\n        store.desktop.set(data.data.includes(\"d\"));\n        store.not.set(data.data.includes(\"n\"));\n    } else {\n        store.menu.set(false);\n        store.desktop.set(false);\n        store.not.set(false);\n    }\n    if (data.err) {\n        console.error(\"Failed to load shortcut preferences:\", data);\n        uiMsg(`Error`);\n    }\n}\n\nasync function savePreferences() {\n    let prefs = \"\";\n    if (store.desktop.get()) prefs += \"d\";\n    if (store.menu.get()) prefs += \"m\";\n    if (store.not.get()) prefs = \"n\";\n\n    saveButton.disabled = true;\n    const res = await fetchApiPost(\"shortcut-pref\", {\n        data: prefs\n    });\n    if (res.err) {\n        console.error(\"Failed to save shortcut preferences:\", res);\n        uiMsg(`Error`);\n        return\n    }\n    uiMsg(\"üíú Preferences saved!\");\n    saveButton.disabled = false;\n}\n\nexport function initSettings() {\n    if (!IS_DESKTOP_APP) return;\n\n    saveButton.addEventListener(\"click\", savePreferences);\n    settingsContainer.fade = false;\n    openSettings.addEventListener(\"click\", () => settingsContainer.fadeToggle());\n\n    loadPreferences();\n}\n",
    "import { ReactiveCell } from \"@wxn0brp/flanker-ui\";\n\nexport const gitRaw = \"https://raw.githubusercontent.com/\";\nexport const zhivaInstalled = new ReactiveCell<string[]>([]);\nexport const appsToUpdateCount = new ReactiveCell(0);\nexport const updateStatus = qs(\"#update-status\");\nexport const DISABLED_TITLE = \"Available only in desktop app\";\n",
    "import { appsToUpdateCount, updateStatus } from \"../vars\";\nimport { fetchApi, IS_DESKTOP_APP } from \"../../api\";\n\nexport async function checkForUpdates() {\n    checkUpdatesBtn.disabled = true;\n    updateStatus.innerHTML = \"Checking...\";\n\n    document.querySelectorAll(\".repo-card\").forEach(card => card.classList.remove(\"has-update\"));\n\n    const res = await fetchApi(\"get-updates\");\n    const data = await res.json();\n    const updates = data.updates;\n    checkUpdatesBtn.disabled = !IS_DESKTOP_APP;\n\n    if (data.err) {\n        console.error(`Error checking for updates: ${data.msg}`);\n        updateStatus.innerHTML = `<span style=\"color: red;\">Error checking for updates</span>`;\n        return;\n    }\n\n    const appsToUpdate = Object.keys(updates).filter(app => updates[app]);\n    appsToUpdateCount.set(appsToUpdate.length);\n    appsToUpdate.forEach(appName => {\n        const card = qs(`.repo-card[data-name=\"${appName}\"]`);\n        if (card) {\n            card.classList.add(\"has-update\");\n            const updateBtn = card.qs<HTMLButtonElement>(\".install\");\n            if (updateBtn) updateBtn.textContent = \"Update available\";\n        }\n    });\n}\n\nconst checkUpdatesBtn = qs<HTMLButtonElement>(\"#check-updates-btn\");\n\nif (!IS_DESKTOP_APP) {\n    checkUpdatesBtn.disabled = true;\n    checkUpdatesBtn.title = \"\";\n}\n\ncheckUpdatesBtn.onclick = () => {\n    checkForUpdates();\n    localStorage.removeItem(\"reposCache\");\n}\n",
    "import { initCdfCheckBox } from \"./cdf\";\nimport { store as settingsStore } from \"./settings\";\n\nconst modal = qs(\"#confirmation-modal\");\nconst modalMessage = qs<HTMLParagraphElement>(\"#modal-message\");\nconst modalWarning = qs(\"#modal-warning\");\nconst modalConfirm = qs<HTMLButtonElement>(\"#modal-confirm\");\nconst modalCancel = qs<HTMLButtonElement>(\"#modal-cancel\");\nconst shortcutOptions = modal.qs(\".shortcut-options\");\n\nexport interface Opts {\n    showWarning: boolean;\n    shortcutOptions: boolean;\n}\n\nexport const store = initCdfCheckBox(modal);\n\nexport function showConfirmation(message: string, onConfirm: () => void, options: Partial<Opts> = {}) {\n    if (!modal || !modalMessage || !modalWarning || !modalConfirm || !modalCancel) return;\n\n    const opts = {\n        showWarning: false,\n        ...options\n    }\n\n    modalMessage.textContent = message;\n    modalWarning.style.display = opts.showWarning ? \"block\" : \"none\";\n    modal.style.display = \"flex\";\n\n    if (opts.shortcutOptions) {\n        shortcutOptions.style.display = \"\";\n        store.set(settingsStore.get());\n    } else {\n        shortcutOptions.style.display = \"none\";\n    }\n\n    const confirmHandler = () => {\n        onConfirm();\n        hideModal();\n    }\n\n    const cancelHandler = () => {\n        hideModal();\n    }\n\n    const hideModal = () => {\n        modal.style.display = \"none\";\n        modalConfirm.removeEventListener(\"click\", confirmHandler);\n        modalCancel.removeEventListener(\"click\", cancelHandler);\n    }\n\n    modalConfirm.addEventListener(\"click\", confirmHandler);\n    modalCancel.addEventListener(\"click\", cancelHandler);\n}\n",
    "import { uiMsg } from \"@wxn0brp/flanker-dialog/msg/index\";\nimport { incrementCell, updateCell } from \"@wxn0brp/flanker-ui/storeUtils\";\nimport { showConfirmation, store } from \"../confirm\";\nimport { appsToUpdateCount, DISABLED_TITLE, zhivaInstalled } from \"../vars\";\nimport { fetchApi, IS_DESKTOP_APP } from \"../../api\";\n\nexport function updateInstalled() {\n    document.querySelectorAll<HTMLDivElement>(\".repo-card\").forEach((card) => {\n        const name = card.getAttribute(\"data-name\");\n\n        const installFn = () => {\n            let pref = \"\";\n\n            if (store.desktop.get()) pref += \"d\";\n            if (store.menu.get()) pref += \"m\";\n            if (store.not.get()) pref = \"n\";\n\n            const query: Record<string, string> = {\n                app: name\n            };\n\n            if (pref) query.shortcut = pref;\n\n            console.log(\"Installing\", name, query);\n\n            return fetchApi(\"install\", {}, query);\n        }\n\n        const installed = zhivaInstalled.get().includes(name);\n        const installedEl = card.qs(\".installed\");\n        if (installedEl)\n            installedEl.innerHTML = installed ? \"üíú Installed\" : \"‚ùå Not Installed\";\n\n        const installBtn = card.qs<HTMLButtonElement>(\".install\");\n        const uninstallBtn = card.qs<HTMLButtonElement>(\".uninstall\");\n        const openInFileExplorerBtn = card.qs<HTMLButtonElement>(\".open-dir\");\n\n        if (installed && IS_DESKTOP_APP) {\n            installBtn.innerHTML = \"Update\";\n            installBtn.onclick = async () => {\n                installBtn.disabled = true;\n                installBtn.textContent = \"Updating...\";\n                await installFn();\n                installBtn.textContent = \"Update\";\n                installBtn.disabled = false;\n                uiMsg(\"üíú Updated\");\n                card.clR(\"has-update\");\n                incrementCell(appsToUpdateCount, -1);\n            }\n\n            uninstallBtn.style.display = \"\";\n            uninstallBtn.onclick = () => {\n                if (installBtn.disabled) return;\n                showConfirmation(\n                    `Are you sure you want to uninstall ${name}?`,\n                    async () => {\n                        await fetchApi(\"uninstall\", {}, { app: name });\n                        updateCell(zhivaInstalled, (apps) => apps.filter((app) => app !== name));\n                        updateInstalled();\n                    }\n                )\n            }\n\n            openInFileExplorerBtn.style.display = \"\";\n            openInFileExplorerBtn.onclick = () => {\n                openInFileExplorer(name);\n            }\n        } else {\n            installBtn.innerHTML = \"Install\";\n            installBtn.onclick = () => {\n                const isVerified = card.getAttribute(\"data-verified\") === \"true\";\n                showConfirmation(\n                    `Are you sure you want to install ${name}?`,\n                    async () => {\n                        installBtn.disabled = true;\n                        installBtn.textContent = \"Installing...\";\n                        await installFn();\n                        zhivaInstalled.get().push(name);\n                        installBtn.textContent = \"Install\";\n                        installBtn.disabled = false;\n                        updateInstalled();\n                    },\n                    {\n                        showWarning: !isVerified,\n                        shortcutOptions: true\n                    }\n                );\n            }\n\n            uninstallBtn.style.display = \"none\";\n            openInFileExplorerBtn.style.display = \"none\";\n        }\n\n        const startBtn = card.qs<HTMLButtonElement>(\".start\");\n        startBtn.style.display = installed || !IS_DESKTOP_APP ? \"\" : \"none\";\n\n        startBtn.onclick = () => {\n            fetchApi(\"start\", {}, { app: name });\n        }\n\n        card.qs(\".open-gh\").onclick = () => {\n            openGH(name);\n        }\n    });\n}\n\nfunction openGH(name: string) {\n    const url = \"https://github.com/\" + name;\n    if (IS_DESKTOP_APP) (window as any).zhiva_openExternal(url);\n    else window.open(url, \"_blank\");\n}\n\nconst updateAllBtn = qs<HTMLButtonElement>(\"#update-all-btn\");\n\nif (!IS_DESKTOP_APP) {\n    updateAllBtn.disabled = true;\n    updateAllBtn.title = DISABLED_TITLE;\n}\n\nupdateAllBtn.onclick = async () => {\n    updateAllBtn.disabled = true;\n    updateAllBtn.textContent = \"Updating...\";\n\n    const res = await fetchApi(\"update\");\n    const data = await res.json();\n\n    updateAllBtn.disabled = false;\n    updateAllBtn.textContent = \"Update All\";\n\n    if (data.err) {\n        uiMsg(`Error updating apps: ${data.msg}`);\n        return;\n    }\n\n    uiMsg(\"üíú Apps updated successfully!\");\n    document.querySelectorAll(\".repo-card\").forEach(card => card.classList.remove(\"has-update\"));\n\n    const zhivaInstalledData = await fetchApi(\"installed\").then(res => res.json());\n    if (zhivaInstalledData.err) return;\n    zhivaInstalled.set(zhivaInstalledData.apps);\n    updateInstalled();\n};\n\nfunction openInFileExplorer(name: string) {\n    fetchApi(\"open-dir\", {}, { app: name });\n}\n",
    "import { gitRaw } from \"./vars\";\nimport { Manifest, Repo } from \"./types\";\n\nconst appsManifest: Record<string, Manifest> = {};\n\nexport async function loadManifest(name: string) {\n    const url = `${gitRaw}${name}/HEAD/zhiva.json`;\n    try {\n        const res = await fetch(url);\n        if (res.ok) {\n            const json = await res.json();\n            appsManifest[name] = json;\n        }\n    } catch {\n        appsManifest[name] = null;\n    }\n}\n\nexport async function getManifest(repo: Repo | string) {\n    const name = typeof repo === \"string\" ? repo : repo.name;\n    const cache = appsManifest[name];\n    if (cache) return cache;\n    if (cache === null) return {};\n    await loadManifest(name);\n    return appsManifest[name];\n}\n",
    "import { gitRaw } from \"./vars\";\nimport { getManifest } from \"./manifest\";\nimport { Repo } from \"./types\";\n\nconst ICON_PATHS = [\n    \"favicon.png\",\n    \"favicon.svg\",\n    \"public/favicon.png\",\n    \"public/favicon.svg\",\n];\n\nexport async function findRepoIcon(repo: Repo): Promise<string | null> {\n    const manifest = await getManifest(repo);\n    if (manifest.icon === \"default\" || (!manifest.icon && manifest.win_icon === \"default\"))\n        return `/zhiva-assets/zhiva.ico`;\n    if (manifest.icon || manifest.win_icon)\n        return `${gitRaw}${repo.name}/HEAD/${manifest.icon || manifest.win_icon}`;\n\n    for (const path of ICON_PATHS) {\n        const url = gitRaw + repo.name + \"/HEAD/\" + path;\n        try {\n            const res = await fetch(url, { method: \"HEAD\" });\n            if (res.ok) return url;\n        } catch { }\n    }\n\n    return null;\n}\n",
    "import { mountView } from \"@wxn0brp/flanker-ui\";\nimport { findRepoIcon } from \"./icon\";\nimport { Repo } from \"./types\";\nimport { updateInstalled } from \"./update/update\";\nimport { fetchApi } from \"../api\";\n\nexport const zhivaRepoListView = mountView({\n    selector: \"#zhiva-repo-list\",\n    queryFunction: () => fetchZhivaRepos(),\n    template: (repo: Repo) => `\n<div\n    class=\"repo-card\"\n    data-name=\"${repo.name}\"\n    data-verified=\"${repo.verified}\"\n>\n    <div class=\"repo-header\">\n        <div class=\"repo-icon\">\n            <div class=\"icon-placeholder\">üì¶</div>\n        </div>\n        <div class=\"repo-info\">\n            <div class=\"repo-title-row\">\n                <h3>\n                    <a href=\"https://github.com/${repo.name}\" target=\"_blank\">${repo.name}</a>\n                </h3>\n                ${repo.verified ? `<span class=\"badge verified\" title=\"Verified by Zhiva Team\">\n                    <img src=\"icons/verified.svg\" width=\"12\" height=\"12\" alt=\"Verified\">\n                    <span>Verified</span>\n                </span>` : ''}\n            </div>\n            <span class=\"installed\"></span>\n        </div>\n    </div>\n    <div class=\"repo-body\">\n        <p class=\"repo-description\">${repo.desc || \"No description provided.\"}</p>\n    </div>\n    <div class=\"repo-footer\">\n        <div class=\"repo-actions\">\n            <button class=\"btn-primary install\">Install</button>\n            <button class=\"btn-success start\" style=\"display: none;\">Launch</button>\n            \n            <div class=\"icon-actions\">\n                <button class=\"btn-icon uninstall\" style=\"display: none; color: #ef4444;\" title=\"Uninstall\">\n                    <img src=\"icons/uninstall.svg\" width=\"18\" height=\"18\" alt=\"Uninstall\">\n                </button>\n                <button class=\"btn-icon open-dir\" title=\"Open Local Files\">\n                    <img src=\"icons/folder.svg\" width=\"18\" height=\"18\" alt=\"Local\">\n                </button>\n                <button class=\"btn-icon open-gh\" title=\"Open on GitHub\">\n                    <img src=\"icons/github.svg\" width=\"18\" height=\"18\" alt=\"GitHub\">\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n    `,\n    onData: (repos) => {\n        repos.forEach(async (repo: Repo) => {\n            const iconUrl = await findRepoIcon(repo);\n            const card = qs(`.repo-card[data-name=\"${repo.name}\"] .repo-icon`);\n            if (!card) return;\n            if (!iconUrl) return;\n\n            const img = document.createElement(\"img\");\n            img.src = iconUrl;\n            img.alt = `üì¶`;\n            img.width = 32;\n            img.height = 32;\n            card.innerHTML = \"\";\n            card.appendChild(img);\n        });\n        setTimeout(() => {\n            updateInstalled();\n        }, 100);\n    },\n    sort: (a, b) => b.stargazers_count - a.stargazers_count,\n});\n\nasync function fetchZhivaRepos() {\n    const res = await fetchApi(\"apps\");\n    const data = await res.json();\n    if (data.err) return [];\n    return data.apps;\n}\n",
    "import \"@wxn0brp/flanker-dialog/style.css\";\nimport \"@wxn0brp/flanker-ui/html\";\nimport { fetchApi } from \"./api\";\nimport { initSettings } from \"./ui/settings\";\nimport { checkForUpdates } from \"./ui/update/check\";\nimport { updateInstalled } from \"./ui/update/update\";\nimport { appsToUpdateCount, updateStatus, zhivaInstalled } from \"./ui/vars\";\nimport { zhivaRepoListView } from \"./ui/view\";\n\nfetchApi(\"installed\").then(res => res.json()).then((data) => {\n    if (data.err) return;\n    zhivaInstalled.set(data.apps);\n    updateInstalled();\n});\n\ncheckForUpdates();\ninitSettings();\n\nappsToUpdateCount.subscribe(count => {\n    if (count < 0) return appsToUpdateCount.set(0);\n    if (!count) return updateStatus.innerHTML = \"No updates available\";\n    updateStatus.innerHTML = `Updates available for: ${count} app${count === 1 ? \"\" : \"s\"}.`;\n});\n\nzhivaRepoListView.load();\n"
  ],
  "mappings": "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",
  "debugId": "88084D33978C981E64756E2164756E21",
  "names": []
}